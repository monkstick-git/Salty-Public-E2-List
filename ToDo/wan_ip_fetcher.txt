@name WAN IP Fetcher
@inputs Refresh
@outputs IP:string Octets:array O1 O2 O3 O4
if (Refresh | first()) {
    httpRequest("http://www.whatismyip.com/automation/n09230945.asp")
    IP = httpData()
 
    Octets = IP:explode(".")
        O1=Octets[1,number]
        O2=Octets[2,number]
        O3=Octets[3,number]
        O4=Octets[4,number]
        hint(IP,1)
}
