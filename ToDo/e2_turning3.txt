@name e2 turning3
@inputs A D A1 D1
@outputs 
@persist A2 D2
@trigger 
@model models/hunter/plates/plate025x075.mdl

runOnTick(1)
if(tickClk()){
TurnAngle = 30
if(A1 | A){A2=A2+1}else{A2=A2}
if(D1|D){A2=A2-1}else{A2=A2}
E = entity()
Base = E:isConstrainedTo("axis")
Local = ang(0, TurnAngle+(A2-D2) - 90, 0) - Base:toLocal(E:angles())        
DesAF = (Local*300 - E:angVel()*45) * shiftL(ang(E:inertia()))        
E:applyAngForce( DesAF * ang(0,1,0))
entity():setText(A2 + "  " + D2)
}
