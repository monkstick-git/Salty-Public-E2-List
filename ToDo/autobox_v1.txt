@name AutoBox v1
@inputs W RPM GEAR
@outputs THROT UP DOWN
@persist A B
@trigger 

interval(100)

if(RPM > 6000 & A == 0 & W==1){
THROT = 100
A = 0
UP = 1
DOWN = 0    
}
else{
    if(W==1 & RPM > 2000 ){
       THROT = 100 
    UP=0
}
else{ 
}

    if(RPM < 2000 & W==1 & GEAR > 1){
    THROT=0
DOWN = 1
THROT = 0

}
else{
    if(W==1 & RPM < 6000){
     THROT = 100  
    DOWN=0 
            }
            
DOWN = 0
    
}
    
    
    }
    
